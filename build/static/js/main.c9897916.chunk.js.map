{"version":3,"sources":["pages/detail/store/reducer.js","pages/detail/store/constants.js","pages/detail/store/actionCreators.js","common/header/store/reducer.js","common/header/store/constants.js","common/header/store/actionCreators.js","pages/home/store/reducer.js","pages/home/store/actionCreators.js","pages/home/store/constants.js","pages/login/store/constants.js","pages/login/store/reducer.js","pages/login/store/actionCreators.js","store/reducer.js","store/index.js","common/header/index.js","pages/home/components/Topic.js","pages/home/components/List.js","pages/home/components/Recommend.js","pages/home/components/Writer.js","pages/home/index.js","pages/login/index.js","pages/detail/loadable.js","App.js","index.js"],"names":["defaultState","fromJS","title","content","state","action","type","merge","getDetail","id","dispatch","axios","get","then","res","result","data","focused","list","moveIn","nowPage","totalPage","reducer","set","searchFocus","searchBlur","moveEnter","moveLeave","changeTitle","page","getList","console","log","Math","ceil","length","catch","topicList","articleList","recommendList","articlePage","showScroll","toggleTopShow","getHomeInfo","r","changHomeData","getMoreList","nextPage","addHomeData","LOGOUT","login","account","password","logout","constants","value","getAccount","getPassword","accout","alert","combineReducers","header","headerReducer","home","concat","detail","detailReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Header","this","props","handlerInputFocus","handlerInputBlur","handlerLogout","className","href","onClick","to","CSSTransition","in","timeout","classNames","placeholder","onFocus","onBlur","handlerMouseEnter","handlerMouseLeave","handlerChangeTitle","newList","toJS","searchInfoItem","spinIcon","i","push","key","onMouseEnter","onMouseLeave","ref","icon","getListArea","Component","connect","getIn","e","actionCreators","spin","originAngle","style","transform","replace","parseInt","loginActionCreators","Topic","map","item","src","imgUrl","alt","PureComponent","List","desc","Recommend","backgroundImage","Writer","Home","changeHomeData","bindscrollEvent","scrollTo","addEventListener","changeScrollTopshow","handlerbackTop","stopPropagation","document","documentElement","scrollTop","Login","handlerAccountInput","handlerPasswordInput","loginStatus","onInput","target","getState","LoadableComponent","Loadable","loader","loading","App","React","path","exact","component","Detail","ReactDom","render","getElementById"],"mappings":"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","file":"static/js/main.c9897916.chunk.js","sourcesContent":["import { fromJS } from 'immutable';\nimport * as constants from './constants';\n\nconst defaultState = fromJS({\n\ttitle: '',\n\tcontent: ''\n});\n\nexport default (state = defaultState, action) => {\n\tswitch(action.type) {\n\t\tcase constants.CHANGE_DETAIL:\n\t\t\treturn state.merge({\n\t\t\t\ttitle: action.title,\n\t\t\t\tcontent: action.content\n\t\t\t})\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","export const CHANGE_DETAIL = 'detail/CHANGE_DETAIL';","import axios from 'axios';\nimport * as constants from './constants';\n\nconst changeDetail = (title, content) => ({\n\ttype: constants.CHANGE_DETAIL,\n\ttitle,\n\tcontent\n})\n\nexport const getDetail = (id) => {\n\treturn (dispatch) => {\n\t\taxios.get('/api/detail.json?id=' + id).then((res) => {\n\t\t\tconst result = res.data.data;\n\t\t\tdispatch(changeDetail(result.title, result.content));\n\t\t})\n\t}\n}","import * as constants from './constants'\r\nimport { fromJS } from 'immutable'\r\nconst defaultState = fromJS({\r\n    focused: false,\r\n    list: [],\r\n    moveIn: false,\r\n    nowPage: 1,\r\n    totalPage: 1\r\n})\r\n\r\nconst reducer = (state = defaultState, action)=> {\r\n    if(action.type === constants.SEARCH_FOCUS) {\r\n        return state.set('focused', true)\r\n    }\r\n    if(action.type === constants.SEARCH_BLUR) {\r\n        return state.set('focused', false)\r\n    }\r\n    if(action.type === constants.HEADER_LIST) {\r\n        return state.merge({\r\n            list: action.data,\r\n            totalPage: action.totalPage\r\n        })\r\n    }\r\n    if(action.type === constants.MOVE_ENTER) {\r\n        return state.set('moveIn', action.moveIn)\r\n    }\r\n    if(action.type === constants.MOVE_LEAVE) {\r\n        return state.set('moveIn', action.moveIn)\r\n    }\r\n    if(action.type === constants.CHANGE_TITLE) {\r\n        return state.set('nowPage', action.nowPage)\r\n    }\r\n    return state\r\n}\r\n\r\nexport default reducer","export const SEARCH_FOCUS = 'header/SEARCH_FOCUS'\r\nexport const SEARCH_BLUR = 'header/SEARCH_BLUR'\r\nexport const HEADER_LIST = 'header/HEADER_LIST'\r\nexport const MOVE_ENTER = 'header/MOVE_ENTER'\r\nexport const MOVE_LEAVE = 'header/MOVE_LEAVE'\r\nexport const CHANGE_TITLE = 'header/CHANGE_TITLE'","import * as constants from './constants'\r\nimport { fromJS } from 'immutable'\r\nimport axios from 'axios'\r\n\r\nconst headerList = (data) => ({\r\n    type: constants.HEADER_LIST,\r\n    data: fromJS(data),\r\n    nowPage: 1,\r\n    totalPage: Math.ceil(data.length / 10)\r\n})\r\n\r\nexport const searchFocus = () => ({\r\n    type: constants.SEARCH_FOCUS\r\n})\r\n\r\nexport const searchBlur = () => ({\r\n    type: constants.SEARCH_BLUR\r\n})\r\n\r\nexport const moveEnter = () => ({\r\n    type: constants.MOVE_ENTER,\r\n    moveIn: true\r\n})\r\n\r\nexport const moveLeave = () => ({\r\n    type: constants.MOVE_LEAVE,\r\n    moveIn: false\r\n})\r\n\r\nexport const changeTitle = (page) => ({\r\n    type: constants.CHANGE_TITLE,\r\n    nowPage: page\r\n})\r\n\r\nexport const getList = () => {\r\n    const t = (dispatch) => {\r\n        axios.get('/api/headerList.json').then((res)=> {\r\n            console.log('res', res)\r\n            let list = headerList(res.data.data)\r\n            dispatch(list)\r\n        }).catch(() => {\r\n            console.log('error')\r\n        })\r\n    }\r\n    return t\r\n}","import { fromJS } from 'immutable'\r\nimport * as constants from './constants'\r\n\r\nconst defaultState = fromJS({\r\n\ttopicList: [],\r\n    articleList: [],\r\n    recommendList: [],\r\n    articlePage: 1,\r\n    showScroll: false,\r\n})\r\n\r\nexport default (state = defaultState, action) => {\r\n\tif(action.type === constants.CHANGE_HOME_DATA) {\r\n        return state.merge({\r\n            topicList: fromJS(action.topicList),\r\n            articleList: fromJS(action.articleList),\r\n            recommendList: fromJS(action.recommendList)\r\n        })\r\n\t}\r\n\tif(action.type === constants.ADD_ARTICLE_LIST) {\r\n\t    return state.merge({\r\n            articleList: state.get('articleList').concat(action.list),\r\n            articlePage: action.nextPage\r\n        })\r\n    }\r\n    if(action.type === constants.TOGGLE_TOP_SHOW) {\r\n\t    return state.merge({\r\n            showScroll: action.showScroll\r\n        })\r\n    }\r\n\treturn state\r\n}","import axios from 'axios'\r\nimport * as constants from './constants'\r\nimport {fromJS} from 'immutable'\r\n\r\nconst changHomeData = (result) => ({\r\n    type: constants.CHANGE_HOME_DATA,\r\n    topicList: result.topicList,\r\n    articleList: result.articleList,\r\n    recommendList: result.recommendList\r\n})\r\n\r\nconst addHomeData = (result, nextPage) => ({\r\n    type: constants.ADD_ARTICLE_LIST,\r\n    list: fromJS(result),\r\n    nextPage\r\n})\r\n\r\nexport const toggleTopShow = (showScroll) => ({\r\n    type: constants.TOGGLE_TOP_SHOW,\r\n    showScroll\r\n})\r\n\r\nexport const getHomeInfo = () => {\r\n     let t = (dispatch) => {\r\n        axios.get('/api/home.json').then((res) => {\r\n            const result = res.data.data\r\n            const r = changHomeData(result)\r\n            dispatch(r)\r\n        })\r\n    }\r\n    return t\r\n}\r\n\r\nexport const getMoreList = (page) => {\r\n    let t = (dispatch) => {\r\n        axios.get('/api/homeList.json?page=' +　page).then((res) => {\r\n            const result = res.data.data\r\n            const r = addHomeData(result, page + 1)\r\n            dispatch(r)\r\n        })\r\n    }\r\n    return t\r\n}\r\n","export const CHANGE_HOME_DATA = 'home/CHANGE_HOME_DATA'\r\nexport const ADD_ARTICLE_LIST = 'home/ADD_ARTICLE_LIST'\r\nexport const TOGGLE_TOP_SHOW = 'home/TOGGLE_TOP_SHOW'","export const CHANGE_LOGIN = 'login/CHANGE_LOGIN'\nexport const LOGOUT = 'login/LOGOUT'\nexport const GET_ACCOUNT = 'login/GET_ACCOUNT'\nexport const GET_PASSWORD = 'login/GET_PASSWORD'","import { fromJS } from 'immutable'\nimport * as constants from './constants'\n\nconst defaultState = fromJS({\n\tlogin: false,\n    account: '',\n    password: ''\n})\n\nexport default (state = defaultState, action) => {\n    console.log('action', action)\n    if(action.type === constants.GET_ACCOUNT) {\n        return state.set('account', action.account)\n    }\n    if(action.type === constants.GET_PASSWORD) {\n        return state.set('password', action.password)\n    }\n    if(action.type === constants.CHANGE_LOGIN) {\n        return state.set('login', action.value)\n    }\n    if(action.type === constants.LOGOUT) {\n        return state.merge({\n            login: action.value,\n            account: '',\n            password: '',\n        })\n    }\n    return state\n}","import axios from 'axios'\nimport * as constants from './constants'\n\nconst changeLogin = () => ({\n    type: constants.CHANGE_LOGIN,\n    value: true\n})\n\nexport const logout = () => ({\n    type: constants.LOGOUT,\n    value: false\n})\n\nexport const getAccount = (account) => ({\n    type: constants.GET_ACCOUNT,\n    account\n})\n\nexport const getPassword = (password) => ({\n    type: constants.GET_PASSWORD,\n    password\n})\n\nexport const login = (accout, password) => {\n\treturn (dispatch) => {\n        axios.get('/api/login.json?account=' + accout + '&password=' + password).then((res) => {\n            const result = res.data.data;\n            if (result) {\n                dispatch(changeLogin())\n            }else {\n                alert('登陆失败')\n            }\n        })\n\t}\n}","import { combineReducers } from 'redux-immutable'\r\nimport { reducer as headerReducer } from '../common/header/store'\r\nimport { reducer as homeReducer } from '../pages/home/store'\r\nimport { reducer as detailReducer } from '../pages/detail/store'\r\nimport { reducer as loginReducer } from '../pages/login/store'\r\n\r\nconst reducer = combineReducers({\r\n    header: headerReducer,\r\n    home: homeReducer,\r\n    detail: detailReducer,\r\n    login: loginReducer,\r\n})\r\nexport default reducer","import { createStore, compose, applyMiddleware  } from 'redux'\r\nimport reducer from './reducer'\r\nimport thunk from 'redux-thunk'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducer, composeEnhancers(\r\n    applyMiddleware(thunk)\r\n))\r\n\r\nexport default store","import React, { Component, Fragment } from 'react'\r\nimport { CSSTransition } from 'react-transition-group'\r\nimport { connect } from 'react-redux'\r\nimport { actionCreators } from \"./store\"\r\nimport { actionCreators as loginActionCreators } from '../../pages/login/store'\r\nimport { Link } from 'react-router-dom'\r\nimport '../../style/header.scss'\r\n\r\nconst getListArea = (props)=> {\r\n    const { focused, moveIn, nowPage, totalPage, list, handlerMouseEnter, handlerMouseLeave, handlerChangeTitle } = props\r\n    let newList = list.toJS()\r\n    let searchInfoItem = []\r\n    let spinIcon = null\r\n    if(newList.length) {\r\n        for (var i = (nowPage - 1) * 10; i < nowPage * 10; i++) {\r\n            searchInfoItem.push(\r\n                <div className='search-info-item' key={newList[i]}>{newList[i]}</div>\r\n            )\r\n        }\r\n    }\r\n    console.log('searchInfoItem', searchInfoItem, nowPage)\r\n    if (focused || moveIn) {\r\n        return (\r\n            <div\r\n                className='search-info'\r\n                onMouseEnter={handlerMouseEnter}\r\n                onMouseLeave={handlerMouseLeave}\r\n            >\r\n                <div  className='search-info-title'>\r\n                    热门搜索\r\n                    <span className='change-title' onClick={() => {handlerChangeTitle(nowPage, totalPage, spinIcon)}}>\r\n                        <i ref={(icon) => {spinIcon = icon}} className=\"iconfont spin\">&#xe851;</i>\r\n                        换一批\r\n                    </span>\r\n                </div>\r\n                <div className='search-info-list'>\r\n                    {searchInfoItem}\r\n                </div>\r\n            </div>\r\n        )\r\n    }else {\r\n        return null\r\n    }\r\n}\r\n\r\nclass Header extends Component {\r\n    \r\n    render() {\r\n        const { focused, handlerInputFocus, handlerInputBlur, login, handlerLogout } = this.props\r\n        return (\r\n            <Fragment>\r\n                <div className={'header-wrapper'}>\r\n                    <a href=\"./\"> </a>\r\n                    <div className='header-nav'>\r\n                        <div className='left active'>首页</div>\r\n                        <div className='left'>下载App</div>\r\n                        {\r\n                            login ?\r\n                                <div className='right' onClick={handlerLogout}>退出</div> :\r\n                                <Link to='/login'>\r\n                                    <div className='right'>登陆</div>\r\n                                </Link>\r\n                        }\r\n                        <div className='right'>\r\n                            <i className=\"iconfont\">&#xe636;</i>\r\n                        </div>\r\n                        <div className='search-wrapper'>\r\n                            <CSSTransition\r\n                                in={focused}\r\n                                timeout={200}\r\n                                classNames=\"slide\"\r\n                            >\r\n                                <input\r\n                                    type=\"text\"\r\n                                    placeholder={'搜索'}\r\n                                    className={focused ? 'focused' : ''}\r\n                                    onFocus={handlerInputFocus}\r\n                                    onBlur={handlerInputBlur}\r\n                                />\r\n                            </CSSTransition>\r\n                            <i className={focused ? 'focused iconfont zoom' : 'iconfont zoom'}>\r\n                                &#xe614;\r\n                            </i>\r\n                            {getListArea(this.props)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='addition'>\r\n                    <div className='writting'>\r\n                        <i className=\"iconfont\">&#xe615;</i>\r\n                        写文章\r\n                    </div>\r\n                    <div className='reg'>注册</div>\r\n                </div>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        focused: state.getIn(['header', 'focused']),\r\n        list: state.getIn(['header', 'list']),\r\n        moveIn: state.getIn(['header', 'moveIn']),\r\n        nowPage: state.getIn(['header', 'nowPage']),\r\n        totalPage: state.getIn(['header', 'totalPage']),\r\n        login: state.getIn(['login', 'login'])\r\n    }\r\n}\r\nconst mapDispathToProps = (dispatch) => {\r\n    return {\r\n        handlerInputFocus(e) {\r\n            const getList = actionCreators.getList()\r\n            const searchFocus = actionCreators.searchFocus()\r\n            dispatch(getList)\r\n            dispatch(searchFocus)\r\n        },\r\n        handlerInputBlur(e) {\r\n            const searchBlur = actionCreators.searchBlur()\r\n            dispatch(searchBlur)\r\n        },\r\n        handlerMouseEnter(e) {\r\n            const moveEnter = actionCreators.moveEnter()\r\n            dispatch(moveEnter)\r\n        },\r\n        handlerMouseLeave(e) {\r\n            const moveLeave = actionCreators.moveLeave()\r\n            dispatch(moveLeave)\r\n        },\r\n        handlerChangeTitle(nowPage, totalPage, spin) {\r\n            let originAngle = spin.style.transform.replace(/[^0-9]/g, '')\r\n            if (originAngle) {\r\n                originAngle = parseInt(originAngle, 10)\r\n            } else {\r\n                originAngle = 0\r\n            }\r\n            spin.style.transform = 'rotate(' + (originAngle + 360) + 'deg)'\r\n            let changeTitle\r\n            if(nowPage < totalPage) {\r\n                nowPage += 1\r\n                changeTitle = actionCreators.changeTitle(nowPage)\r\n            } else {\r\n                changeTitle = actionCreators.changeTitle(1)\r\n            }\r\n            dispatch(changeTitle)\r\n        },\r\n        handlerLogout() {\r\n            const moveLeave = loginActionCreators.logout()\r\n            dispatch(moveLeave)\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispathToProps)(Header)","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\nclass Topic extends PureComponent {\n\trender() {\n\t\tconst { list } = this.props\n\t\treturn (\n\t\t\t<div className='topic-wrapper'>\n\t\t\t\t{\n\t\t\t\t\tlist.map((item) => (\n\t\t\t\t\t\t<div className='topic-item' key={item.id}>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tclassName='topic-pic'\n\t\t\t\t\t\t\t\tsrc={item.imgUrl}\n                                alt=''\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapState = (state) => ({\n\tlist: state.getIn(['home', 'topicList']).toJS()\n})\n\nexport default connect(mapState, null)(Topic)","import React, {PureComponent} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {actionCreators} from '../store'\r\nimport {Link} from 'react-router-dom'\r\n\r\nclass List extends PureComponent {\r\n    \r\n    render() {\r\n        const {list, page, getMoreList} = this.props\r\n        return (\r\n            <div>\r\n                {\r\n                    list.map((item) => {\r\n                        return (\r\n                            <Link key={item.id} to={'/detail/' + item.id}>\r\n                                <div className='list-item'>\r\n                                    <img alt='' className='pic' src={item.imgUrl}/>\r\n                                    <div className='list-info'>\r\n                                        <h3 className='title'>{item.title}</h3>\r\n                                        <p className='desc'>{item.desc}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                        )\r\n                    })\r\n                }\r\n                <div className='load-more' onClick={() => getMoreList(page)}>加载更多</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapState = (state) => ({\r\n    list: state.getIn(['home', 'articleList']).toJS(),\r\n    page: state.getIn(['home', 'articlePage'])\r\n})\r\n\r\nconst mapTodispatch = (dispatch) => ({\r\n    getMoreList(page) {\r\n        dispatch(actionCreators.getMoreList(page))\r\n    }\r\n})\r\n\r\nexport default connect(mapState, mapTodispatch)(List)","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\n\n\nclass Recommend extends PureComponent {\n\trender() {\n\t    const { list } = this.props\n\t\treturn (\n\t\t\t<div className='recommend-wrapper'>\n                {\n                    list.map((item) => {\n                        return <div className='recommend-item' key={item.id} style={{backgroundImage: `url(${item.imgUrl})`}}></div>\n                    })\n                }\n            </div>\n\t\t)\n\t}\n}\n\nconst mapState = (state) => ({\n    list: state.getIn(['home', 'recommendList']).toJS()\n})\n\nexport default connect(mapState, null)(Recommend)\n","import React, { PureComponent } from 'react'\n\nclass Writer extends PureComponent {\n    render() {\n        return (\n            <div>HomeWork</div>\n        )\n    }\n}\n\nexport default Writer","import React, { PureComponent } from 'react'\r\nimport Topic from './components/Topic'\r\nimport List from './components/List'\r\nimport Recommend from './components/Recommend'\r\nimport Writer from './components/Writer'\r\nimport { connect } from 'react-redux'\r\nimport { actionCreators } from './store'\r\nimport '../../style/home.scss'\r\n\r\nclass Home extends PureComponent {\r\n    \r\n    componentDidMount() {\r\n        this.props.changeHomeData()\r\n        this.bindscrollEvent()\r\n    }\r\n    \r\n    handlerbackTop() {\r\n        window.scrollTo(0, 0)\r\n    }\r\n    \r\n    bindscrollEvent() {\r\n        window.addEventListener('scroll', (e) => {\r\n            this.props.changeScrollTopshow(e)\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        const { showScroll } = this.props\r\n        return (\r\n            <div className='home-wrapper'>\r\n                <div className='home-left'>\r\n                    <img className='banner-img' src=\"//upload.jianshu.io/admin_banners/web_images/4318/60781ff21df1d1b03f5f8459e4a1983c009175a5.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\" alt=''/>\r\n                    <Topic />\r\n                    <List />\r\n                </div>\r\n                <div className='home-right'>\r\n                    <Recommend />\r\n                    <Writer />\r\n                </div>\r\n                {\r\n                    showScroll ? <div className='back-top' onClick={this.handlerbackTop}>顶部</div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStatetoProps = (state) => ({\r\n    showScroll: state.getIn(['home', 'showScroll'])\r\n})\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n    changeHomeData() {\r\n        const action = actionCreators.getHomeInfo()\r\n        dispatch(action)\r\n    },\r\n    changeScrollTopshow(e) {\r\n        e.stopPropagation()\r\n        if(document.documentElement.scrollTop >= 100) {\r\n            let action = actionCreators.toggleTopShow(true)\r\n            dispatch(action)\r\n        } else {\r\n            let action = actionCreators.toggleTopShow(false)\r\n            dispatch(action)\r\n        }\r\n    }\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatch)(Home)","import React, { PureComponent } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { actionCreators } from './store'\r\nimport store from '../../store'\r\nimport '../../style/login.scss'\r\n\r\nclass Login extends PureComponent {\r\n    \r\n    render() {\r\n        const { handlerAccountInput, handlerPasswordInput, loginStatus, login } = this.props\r\n        if (!loginStatus) {\r\n            return (\r\n                <div className='login-wrapper'>\r\n                    <div className='login-box'>\r\n                        <input placeholder='账号' type='text' onInput={(e) => handlerAccountInput(e)}/>\r\n                        <input placeholder='密码' type='password' onInput={(e) => handlerPasswordInput(e)}/>\r\n                        <div className='button' onClick={login}>登录</div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return <Redirect to='/' />\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStatetoProps = (state) => ({\r\n    loginStatus: state.getIn(['login', 'login'])\r\n})\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n    handlerAccountInput(e) {\r\n        const account = e.target.value\r\n        const action = actionCreators.getAccount(account)\r\n        dispatch(action)\r\n    },\r\n    handlerPasswordInput(e) {\r\n        const password = e.target.value\r\n        const action = actionCreators.getPassword(password)\r\n        dispatch(action)\r\n    },\r\n    login() {\r\n        const account = store.getState('account')\r\n        const password = store.getState('password')\r\n        const action = actionCreators.login(account, password)\r\n        dispatch(action)\r\n    }\r\n})\r\n\r\nexport default connect(mapStatetoProps, mapDispatch)(Login)","import React from 'react'\r\nimport Loadable from 'react-loadable'\r\n\r\nconst LoadableComponent = Loadable({\r\n    loader: () => import('./'),\r\n    loading() {\r\n        return <div>正在加载</div>\r\n    },\r\n});\r\n\r\nexport default class App extends React.Component {\r\n    render() {\r\n        return <LoadableComponent/>;\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter, Route } from 'react-router-dom'\r\nimport store from './store'\r\nimport Header from './common/header'\r\nimport Home from './pages/home'\r\nimport Login from './pages/login'\r\nimport Detail from './pages/detail/loadable'\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <Provider store={store}>\r\n                <BrowserRouter>\r\n                    <Header />\r\n                    <div>\r\n                        <Route path='/' exact component={Home}></Route>\r\n                        <Route path='/login' exact component={Login}></Route>\r\n                        <Route path='/detail/:id' exact component={Detail}></Route>\r\n                    </div>\r\n                </BrowserRouter>\r\n            </Provider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDom from 'react-dom'\r\nimport App from './App'\r\nimport './static/iconfont/iconfont.css'\r\nimport './style/reset.scss'\r\n\r\n\r\nReactDom.render(<App/>, document.getElementById('root'))\r\n\r\n"],"sourceRoot":""}
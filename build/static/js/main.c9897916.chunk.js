(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{36:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var a={};n.r(a),n.d(a,"getDetail",(function(){return u}));var r=n(8),o=Object(r.fromJS)({title:"",content:""}),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"detail/CHANGE_DETAIL":return e.merge({title:t.title,content:t.content});default:return e}},i=n(15),l=n.n(i),u=function(e){return function(t){l.a.get("/api/detail.json?id="+e).then((function(e){var n,a,r=e.data.data;t((n=r.title,a=r.content,{type:"detail/CHANGE_DETAIL",title:n,content:a}))}))}}},42:function(e,t,n){e.exports=n(78)},72:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"searchFocus",(function(){return L})),n.d(a,"searchBlur",(function(){return w})),n.d(a,"moveEnter",(function(){return I})),n.d(a,"moveLeave",(function(){return S})),n.d(a,"changeTitle",(function(){return T})),n.d(a,"getList",(function(){return _}));var r={};n.r(r),n.d(r,"toggleTopShow",(function(){return P})),n.d(r,"getHomeInfo",(function(){return A})),n.d(r,"getMoreList",(function(){return k}));var o={};n.r(o),n.d(o,"logout",(function(){return D})),n.d(o,"getAccount",(function(){return R})),n.d(o,"getPassword",(function(){return J})),n.d(o,"login",(function(){return U}));var c=n(0),i=n.n(c),l=n(16),u=n.n(l),s=n(3),m=n(4),d=n(6),p=n(5),f=n(10),h=n(17),g=n(2),v=n(18),E=n(38),b=n(8),O=Object(b.fromJS)({focused:!1,list:[],moveIn:!1,nowPage:1,totalPage:1}),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;return"header/SEARCH_FOCUS"===t.type?e.set("focused",!0):"header/SEARCH_BLUR"===t.type?e.set("focused",!1):"header/HEADER_LIST"===t.type?e.merge({list:t.data,totalPage:t.totalPage}):"header/MOVE_ENTER"===t.type||"header/MOVE_LEAVE"===t.type?e.set("moveIn",t.moveIn):"header/CHANGE_TITLE"===t.type?e.set("nowPage",t.nowPage):e},j=n(15),N=n.n(j),L=function(){return{type:"header/SEARCH_FOCUS"}},w=function(){return{type:"header/SEARCH_BLUR"}},I=function(){return{type:"header/MOVE_ENTER",moveIn:!0}},S=function(){return{type:"header/MOVE_LEAVE",moveIn:!1}},T=function(e){return{type:"header/CHANGE_TITLE",nowPage:e}},_=function(){return function(e){N.a.get("/api/headerList.json").then((function(t){console.log("res",t);var n,a=(n=t.data.data,{type:"header/HEADER_LIST",data:Object(b.fromJS)(n),nowPage:1,totalPage:Math.ceil(n.length/10)});e(a)})).catch((function(){console.log("error")}))}},C=Object(b.fromJS)({topicList:[],articleList:[],recommendList:[],articlePage:1,showScroll:!1}),P=function(e){return{type:"home/TOGGLE_TOP_SHOW",showScroll:e}},A=function(){return function(e){N.a.get("/api/home.json").then((function(t){var n=function(e){return{type:"home/CHANGE_HOME_DATA",topicList:e.topicList,articleList:e.articleList,recommendList:e.recommendList}}(t.data.data);e(n)}))}},k=function(e){return function(t){N.a.get("/api/homeList.json?page="+e).then((function(n){var a=function(e,t){return{type:"home/ADD_ARTICLE_LIST",list:Object(b.fromJS)(e),nextPage:t}}(n.data.data,e+1);t(a)}))}},H=n(36),M="login/LOGOUT",G=Object(b.fromJS)({login:!1,account:"",password:""}),D=function(){return{type:M,value:!1}},R=function(e){return{type:"login/GET_ACCOUNT",account:e}},J=function(e){return{type:"login/GET_PASSWORD",password:e}},U=function(e,t){return function(n){N.a.get("/api/login.json?account="+e+"&password="+t).then((function(e){e.data.data?n({type:"login/CHANGE_LOGIN",value:!0}):alert("\u767b\u9646\u5931\u8d25")}))}},x=Object(E.combineReducers)({header:y,home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return"home/CHANGE_HOME_DATA"===t.type?e.merge({topicList:Object(b.fromJS)(t.topicList),articleList:Object(b.fromJS)(t.articleList),recommendList:Object(b.fromJS)(t.recommendList)}):"home/ADD_ARTICLE_LIST"===t.type?e.merge({articleList:e.get("articleList").concat(t.list),articlePage:t.nextPage}):"home/TOGGLE_TOP_SHOW"===t.type?e.merge({showScroll:t.showScroll}):e},detail:H.b,login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;return console.log("action",t),"login/GET_ACCOUNT"===t.type?e.set("account",t.account):"login/GET_PASSWORD"===t.type?e.set("password",t.password):"login/CHANGE_LOGIN"===t.type?e.set("login",t.value):t.type===M?e.merge({login:t.value,account:"",password:""}):e}}),B=n(39),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v.c,V=Object(v.d)(x,F(Object(v.a)(B.a))),W=n(80),z=(n(72),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.focused,n=e.handlerInputFocus,a=e.handlerInputBlur,r=e.login,o=e.handlerLogout;return i.a.createElement(c.Fragment,null,i.a.createElement("div",{className:"header-wrapper"},i.a.createElement("a",{href:"./"}," "),i.a.createElement("div",{className:"header-nav"},i.a.createElement("div",{className:"left active"},"\u9996\u9875"),i.a.createElement("div",{className:"left"},"\u4e0b\u8f7dApp"),r?i.a.createElement("div",{className:"right",onClick:o},"\u9000\u51fa"):i.a.createElement(h.b,{to:"/login"},i.a.createElement("div",{className:"right"},"\u767b\u9646")),i.a.createElement("div",{className:"right"},i.a.createElement("i",{className:"iconfont"},"\ue636")),i.a.createElement("div",{className:"search-wrapper"},i.a.createElement(W.a,{in:t,timeout:200,classNames:"slide"},i.a.createElement("input",{type:"text",placeholder:"\u641c\u7d22",className:t?"focused":"",onFocus:n,onBlur:a})),i.a.createElement("i",{className:t?"focused iconfont zoom":"iconfont zoom"},"\ue614"),function(e){var t=e.focused,n=e.moveIn,a=e.nowPage,r=e.totalPage,o=e.list,c=e.handlerMouseEnter,l=e.handlerMouseLeave,u=e.handlerChangeTitle,s=o.toJS(),m=[],d=null;if(s.length)for(var p=10*(a-1);p<10*a;p++)m.push(i.a.createElement("div",{className:"search-info-item",key:s[p]},s[p]));return console.log("searchInfoItem",m,a),t||n?i.a.createElement("div",{className:"search-info",onMouseEnter:c,onMouseLeave:l},i.a.createElement("div",{className:"search-info-title"},"\u70ed\u95e8\u641c\u7d22",i.a.createElement("span",{className:"change-title",onClick:function(){u(a,r,d)}},i.a.createElement("i",{ref:function(e){d=e},className:"iconfont spin"},"\ue851"),"\u6362\u4e00\u6279")),i.a.createElement("div",{className:"search-info-list"},m)):null}(this.props)))),i.a.createElement("div",{className:"addition"},i.a.createElement("div",{className:"writting"},i.a.createElement("i",{className:"iconfont"},"\ue615"),"\u5199\u6587\u7ae0"),i.a.createElement("div",{className:"reg"},"\u6ce8\u518c")))}}]),n}(c.Component)),X=Object(f.b)((function(e){return{focused:e.getIn(["header","focused"]),list:e.getIn(["header","list"]),moveIn:e.getIn(["header","moveIn"]),nowPage:e.getIn(["header","nowPage"]),totalPage:e.getIn(["header","totalPage"]),login:e.getIn(["login","login"])}}),(function(e){return{handlerInputFocus:function(t){var n=a.getList(),r=a.searchFocus();e(n),e(r)},handlerInputBlur:function(t){var n=a.searchBlur();e(n)},handlerMouseEnter:function(t){var n=a.moveEnter();e(n)},handlerMouseLeave:function(t){var n=a.moveLeave();e(n)},handlerChangeTitle:function(t,n,r){var o,c=r.style.transform.replace(/[^0-9]/g,"");c=c?parseInt(c,10):0,r.style.transform="rotate("+(c+360)+"deg)",t<n?(t+=1,o=a.changeTitle(t)):o=a.changeTitle(1),e(o)},handlerLogout:function(){var t=o.logout();e(t)}}}))(z),q=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.list;return i.a.createElement("div",{className:"topic-wrapper"},e.map((function(e){return i.a.createElement("div",{className:"topic-item",key:e.id},i.a.createElement("img",{className:"topic-pic",src:e.imgUrl,alt:""}),e.title)})))}}]),n}(c.PureComponent),K=Object(f.b)((function(e){return{list:e.getIn(["home","topicList"]).toJS()}}),null)(q),Q=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.list,n=e.page,a=e.getMoreList;return i.a.createElement("div",null,t.map((function(e){return i.a.createElement(h.b,{key:e.id,to:"/detail/"+e.id},i.a.createElement("div",{className:"list-item"},i.a.createElement("img",{alt:"",className:"pic",src:e.imgUrl}),i.a.createElement("div",{className:"list-info"},i.a.createElement("h3",{className:"title"},e.title),i.a.createElement("p",{className:"desc"},e.desc))))})),i.a.createElement("div",{className:"load-more",onClick:function(){return a(n)}},"\u52a0\u8f7d\u66f4\u591a"))}}]),n}(c.PureComponent),Y=Object(f.b)((function(e){return{list:e.getIn(["home","articleList"]).toJS(),page:e.getIn(["home","articlePage"])}}),(function(e){return{getMoreList:function(t){e(r.getMoreList(t))}}}))(Q),Z=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.list;return i.a.createElement("div",{className:"recommend-wrapper"},e.map((function(e){return i.a.createElement("div",{className:"recommend-item",key:e.id,style:{backgroundImage:"url(".concat(e.imgUrl,")")}})})))}}]),n}(c.PureComponent),$=Object(f.b)((function(e){return{list:e.getIn(["home","recommendList"]).toJS()}}),null)(Z),ee=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement("div",null,"HomeWork")}}]),n}(c.PureComponent),te=(n(74),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.changeHomeData(),this.bindscrollEvent()}},{key:"handlerbackTop",value:function(){window.scrollTo(0,0)}},{key:"bindscrollEvent",value:function(){var e=this;window.addEventListener("scroll",(function(t){e.props.changeScrollTopshow(t)}))}},{key:"render",value:function(){var e=this.props.showScroll;return i.a.createElement("div",{className:"home-wrapper"},i.a.createElement("div",{className:"home-left"},i.a.createElement("img",{className:"banner-img",src:"//upload.jianshu.io/admin_banners/web_images/4318/60781ff21df1d1b03f5f8459e4a1983c009175a5.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540",alt:""}),i.a.createElement(K,null),i.a.createElement(Y,null)),i.a.createElement("div",{className:"home-right"},i.a.createElement($,null),i.a.createElement(ee,null)),e?i.a.createElement("div",{className:"back-top",onClick:this.handlerbackTop},"\u9876\u90e8"):null)}}]),n}(c.PureComponent)),ne=Object(f.b)((function(e){return{showScroll:e.getIn(["home","showScroll"])}}),(function(e){return{changeHomeData:function(){var t=r.getHomeInfo();e(t)},changeScrollTopshow:function(t){if(t.stopPropagation(),document.documentElement.scrollTop>=100){var n=r.toggleTopShow(!0);e(n)}else{var a=r.toggleTopShow(!1);e(a)}}}}))(te),ae=(n(75),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handlerAccountInput,n=e.handlerPasswordInput,a=e.loginStatus,r=e.login;return a?i.a.createElement(g.a,{to:"/"}):i.a.createElement("div",{className:"login-wrapper"},i.a.createElement("div",{className:"login-box"},i.a.createElement("input",{placeholder:"\u8d26\u53f7",type:"text",onInput:function(e){return t(e)}}),i.a.createElement("input",{placeholder:"\u5bc6\u7801",type:"password",onInput:function(e){return n(e)}}),i.a.createElement("div",{className:"button",onClick:r},"\u767b\u5f55")))}}]),n}(c.PureComponent)),re=Object(f.b)((function(e){return{loginStatus:e.getIn(["login","login"])}}),(function(e){return{handlerAccountInput:function(t){var n=t.target.value,a=o.getAccount(n);e(a)},handlerPasswordInput:function(t){var n=t.target.value,a=o.getPassword(n);e(a)},login:function(){var t=V.getState("account"),n=V.getState("password"),a=o.login(t,n);e(a)}}}))(ae),oe=n(40),ce=n.n(oe)()({loader:function(){return n.e(3).then(n.bind(null,82))},loading:function(){return i.a.createElement("div",null,"\u6b63\u5728\u52a0\u8f7d")}}),ie=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement(ce,null)}}]),n}(i.a.Component),le=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return i.a.createElement(f.a,{store:V},i.a.createElement(h.a,null,i.a.createElement(X,null),i.a.createElement("div",null,i.a.createElement(g.b,{path:"/",exact:!0,component:ne}),i.a.createElement(g.b,{path:"/login",exact:!0,component:re}),i.a.createElement(g.b,{path:"/detail/:id",exact:!0,component:ie}))))}}]),n}(c.Component);n(76),n(77);u.a.render(i.a.createElement(le,null),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.c9897916.chunk.js.map